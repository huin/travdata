!Group
templates:
- !TableExtraction &one-row-header
  - !FoldRows
    - !StaticRowCounts [1]
    - !EmptyColumn 0
- !TableExtraction &two-row-header
  - !FoldRows
    - !StaticRowCounts [2]
    - !EmptyColumn 0
groups:
  02-traveller-creation: !Group
    tables:
      ageing: !Table
        extraction: *one-row-header
      background-skills: !Table
        extraction: !TableExtraction
          - !PrependRow [Skill and level]
      benefits-of-rank: !Table
        extraction: *one-row-header
      career-summary: !Table
        extraction: !TableExtraction []
      characteristic-modifiers: !Table
        extraction: *one-row-header
      draft-selection: !Table
        extraction: *one-row-header
      injuries: !Table
        extraction: *one-row-header
      life-events: !Table
        extraction: *one-row-header
      medical-bills: !Table
        extraction: *one-row-header
      noble-titles: !Table
        extraction: *one-row-header
      pension: !Table
        extraction: *one-row-header
      pre-career-events: !Table
        extraction: *one-row-header
      skills-package: !Table
        extraction: !!null
    groups:
      careers: !Group
        groups:
          01-agent: !Group
            tags: [career, career-code/1, career/agent]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-law-enforcement: !Table
                tags: [rank/law-enforcement, type/career-rank]
                extraction: *one-row-header
              ranks-intel-corp: !Table
                tags: [rank/intel-corp, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          02-army: !Group
            tags: [career, career-code/2, career/army]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *two-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-enlisted: !Table
                tags: [rank/enlisted, type/career-rank]
                extraction: *one-row-header
              ranks-officer: !Table
                tags: [rank/officer, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          03-citizen: !Group
            tags: [career, career-code/3, career/citizen]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-corporate: !Table
                tags: [rank/corporate, type/career-rank]
                extraction: *one-row-header
              ranks-worker: !Table
                tags: [rank/worker, type/career-rank]
                extraction: *one-row-header
              ranks-colonist: !Table
                tags: [rank/colonist, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          04-drifter: !Group
            tags: [career, career-code/4, career/drifter]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-barbarian: !Table
                tags: [rank/barbarian, type/career-rank]
                extraction: *one-row-header
              ranks-wanderer: !Table
                tags: [rank/wanderer, type/career-rank]
                extraction: *one-row-header
              ranks-scavenger: !Table
                tags: [rank/scavenger, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          05-entertainer: !Group
            tags: [career, career-code/5, career/entertainer]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-artist: !Table
                tags: [rank/artist, type/career-rank]
                extraction: *one-row-header
              ranks-journalist: !Table
                tags: [rank/journalist, type/career-rank]
                extraction: *one-row-header
              ranks-performer: !Table
                tags: [rank/performer, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          06-marine: !Group
            tags: [career, career-code/6, career/marine]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *two-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-enlisted: !Table
                tags: [rank/enlisted, type/career-rank]
                extraction: *one-row-header
              ranks-officer: !Table
                tags: [rank/officer, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          07-merchant: !Group
            tags: [career, career-code/7, career/merchant]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-merchant-marine: !Table
                tags: [rank/merchant-marine, type/career-rank]
                extraction: *one-row-header
              ranks-free-trader: !Table
                tags: [rank/free-trader, type/career-rank]
                extraction: *one-row-header
              ranks-broker: !Table
                tags: [rank/broker, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          08-navy: !Group
            tags: [career, career-code/8, career/navy]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *two-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-enlisted: !Table
                tags: [rank/enlisted, type/career-rank]
                extraction: *one-row-header
              ranks-officer: !Table
                tags: [rank/officer, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          09-noble: !Group
            tags: [career, career-code/9, career/noble]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-adminstrator: !Table
                tags: [rank/adminstrator, type/career-rank]
                extraction: *one-row-header
              ranks-diplomat: !Table
                tags: [rank/diplomat, type/career-rank]
                extraction: *one-row-header
              ranks-dilettante: !Table
                tags: [rank/dilettante, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          10-rogue: !Group
            tags: [career, career-code/10, career/rogue]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-thief: !Table
                tags: [rank/thief, type/career-rank]
                extraction: *one-row-header
              ranks-enforcer: !Table
                tags: [rank/enforcer, type/career-rank]
                extraction: *one-row-header
              ranks-pirate: !Table
                tags: [rank/pirate, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          11-scholar: !Group
            tags: [career, career-code/11, career/scholar]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-field-researcher: !Table
                tags: [rank/field-researcher, type/career-rank]
                extraction: *one-row-header
              ranks-scientist: !Table
                tags: [rank/scientist, type/career-rank]
                extraction: *one-row-header
              ranks-physician: !Table
                tags: [rank/physician, type/career-rank]
                extraction: !TableExtraction
                  - !FoldRows 
                    - !StaticRowCounts [1]
                    - !EmptyColumn 0
                  # For some reason, header captures spurious data, so leave it
                  # out of the Tabula template, and add it back manually.
                  - !PrependRow
                    - RANK
                    - PHYSICIAN
                    - SKILL OR BONUS
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          12-scout: !Group
            tags: [career, career-code/12, career/scout]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks: !Table
                tags: [rank/None, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: !TableExtraction
                  - !FoldRows 
                    - !StaticRowCounts [1]
                    - !EmptyColumn 0
                  # For some reason, header captures spurious data, so leave it
                  # out of the Tabula template, and add it back manually.
                  - !PrependRow 
                    - 1D
                    - MISHAP
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          13-prisoner: !Group
            tags: [career, career-code/13, career/prisoner]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *one-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks: !Table
                tags: [rank/None, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
          x-psion: !Group
            tags: [career, career-code/x, career/psion]
            tables:
              career-progress: !Table
                tags: [type/career-progress]
                extraction: *one-row-header
              mustering-out: !Table
                tags: [type/career-mustering-out]
                extraction: *one-row-header
              skills-and-training-general: !Table
                tags: [type/career-skills-and-training-general]
                extraction: *two-row-header
              skills-and-training-assignment: !Table
                tags: [type/career-skills-and-training-assignment]
                extraction: *one-row-header
              ranks-wild-talent: !Table
                tags: [rank/wild-talent, type/career-rank]
                extraction: *one-row-header
              ranks-adept: !Table
                tags: [rank/adept, type/career-rank]
                extraction: *one-row-header
              ranks-psi-warrior: !Table
                tags: [rank/psi-warrior, type/career-rank]
                extraction: *one-row-header
              mishap: !Table
                tags: [type/career-mishap]
                extraction: *one-row-header
              event: !Table
                tags: [type/career-event]
                extraction: *one-row-header
  03-skills-and-tasks: !Group
    tables:
      effect-results: !Table
        extraction: !TableExtraction
          - !FoldRows 
            - !StaticRowCounts [1, 3, 1, 5, 3, 1, 2]
            - !EmptyColumn 0
      task-chain: !Table
        extraction: !TableExtraction
          - !FoldRows 
            - !StaticRowCounts [3, 2, 2, 2, 2, 2, 2]
      task-difficulty: !Table
        extraction: !TableExtraction []
      timeframes: !Table
        extraction: !TableExtraction
          - !FoldRows
            - !StaticRowCounts [1, 2, 2, 3, 2, 4, 3, 2, 2, 2, 2]
  04-combat: !Group
    tables:
      common-modifiers: !Table
        extraction: *one-row-header
      cover: !Table
        extraction: *one-row-header
  05-encounters-and-dangers: !Group
    tables:
      encounter-distance: !Table
        extraction: *one-row-header
      encounter-modifiers: !Table
        extraction: !TableExtraction
          - !FoldRows
            - !StaticRowCounts [1, 1, 1, 1, 2, 2]
          - !PrependRow
            - Circumstance
            - Modifier
      range-bands: !Table
        extraction: *one-row-header
    groups:
      animal: !Group
        tables:
          behaviours: !Table
            tags: [type/animal-behaviour]
            extraction: !TableExtraction
              - !JoinColumns
                delim: " "
              - !ExpandColumnOnRegex
                column: 0
                pattern: 'â€¢ ([^(]+) \(([^)]+)\): (.+)'
                on_match: ['\1', '\2', '\3']
                default: ['', '', '\g<0>']
              - !FoldRows
                - !EmptyColumn 0
              - !PrependRow
                - Animal type
                - Examples
                - Behaviour
          flight-or-fight: !Table
            tags: [type/animal-flight-or-fight]
            extraction: *one-row-header
          sizes: !Table
            tags: [type/animal-size]
            extraction: *one-row-header
      dangers: !Group
        tags: [danger]
        tables:
          disease: !Table
            tags: [danger/disease]
            extraction: *one-row-header
          poisons: !Table
            tags: [danger/poison]
            extraction: *two-row-header
        groups:
          radiation: !Group
            tags: [danger/radiation]
            tables:
              effect-cumulative: !Table
                tags: [danger/radiation/cumulative-effect]
                extraction: *two-row-header
              effect-immediate: !Table
                tags: [danger/radiation/immediate-effect]
                extraction: *two-row-header
              sources: !Table
                tags: [danger/radiation/source]
                extraction: *one-row-header
          temperatures: !Group
            tags: [danger/temperature]
            tables:
              temperatures-cold: !Table
                tags: [danger/temperature/cold]
                extraction: *one-row-header
              temperatures-hot: !Table
                tags: [danger/temperature/hot]
                extraction: *one-row-header
      other-characters: !Group
        tags: [encounters/other-characters]
        tables:
          allies-and-enemies: !Table
            tags: [encounters/other-characters/role]
            extraction: *one-row-header
          character-quirks: !Table
            tags: [encounters/other-characters/quirk]
            extraction: *one-row-header
          experience-levels: !Table
            tags: [encounters/other-characters/experience-level]
            extraction: *one-row-header
      patrons-and-missions: !Group
        tables:
          random-mission: !Table
            extraction: *one-row-header
          random-opposition: !Table
            extraction: *one-row-header
          random-patrons: !Table
            extraction: *one-row-header
          random-targets: !Table
            extraction: *one-row-header
      random-encounters: !Group
        tables:
          rural: !Table
            tags: [encounter/rural]
            extraction: *one-row-header
          starport: !Table
            tags: [encounter/starport]
            extraction: *one-row-header
          urban: !Table
            tags: [encounter/urban]
            extraction: *one-row-header
  06-equipment: !Group
    tags: [equipment]
    tables:
      augments: !Table
        tags: [equipment/augment]
        extraction: *one-row-header
      bugs: !Table
        tags: [equipment/bug]
        extraction: *one-row-header
      science-kits: !Table
        tags: [equipment/science-kit]
        extraction: !TableExtraction
          - !FoldRows
            - !EmptyColumn 1
      sensors: !Table
        tags: [equipment/sensor]
        extraction: *one-row-header
      standards-of-living: !Table
        tags: [standard-of-living]
        extraction: *one-row-header
      survival-gear: !Table
        tags: [equipment/survival-gear]
        extraction: *one-row-header
      toolkits: !Table
        tags: [equipment/toolkit]
        extraction: *one-row-header
    groups:
      combat: !Group
        tags: [equipment/combat]
        templates:
          - !TableExtraction &weapon-table
            - !FoldRows
              - !EmptyColumn 1
        tables:
          armour: !Table
            tags: [equipment/armour]
            extraction: *one-row-header
          melee-weapons: !Table
            tags: [equipment/weapon, weapon/melee]
            extraction: *weapon-table
          slug-throwers: !Table
            tags: [equipment/weapon, weapon/slug]
            extraction: *weapon-table
          energy-weapons: !Table
            tags: [equipment/weapon, weapon/energy]
            extraction: !TableExtraction
              - !FoldRows
                - !StaticRowCounts [2]
                - !EmptyColumn 1
          grenade-weapons: !Table
            tags: [equipment/weapon, weapon/grenade]
            extraction: *weapon-table
          heavy-weapons: !Table
            tags: [equipment/weapon, weapon/heavy]
            extraction: *weapon-table
          explosives: !Table
            tags: [equipment/weapon, weapon/explosive]
            extraction: *weapon-table
      communication: !Group
        tags: [equipment/communication]
        tables:
          commdot: !Table
            tags: [communication/commdot]
            extraction: *one-row-header
          laser-transceivers: !Table
            tags: [communication/transceiver, transceiver/laser]
            extraction: !TableExtraction 
            - !FoldRows
              - !StaticRowCounts [1]
              - !EmptyColumn 0
            - !PrependRow
              - LASER TRANSCEIVERS
              - MASS
              - RANGE
              - COST
          mobile-comms: !Table
            tags: [communication/mobile]
            extraction: *one-row-header
          radio-transceivers: !Table
            tags: [communication/transceiver, transceiver/radio]
            extraction: *one-row-header
      computing: !Group
        tags: [equipment/computing]
        tables:
          computer-terminal: !Table
            tags: [computing/computer, computer/terminal]
            extraction: *one-row-header
          portable-computer: !Table
            tags: [computing/processing, computer/portable]
            extraction: *one-row-header
          software-package: !Table
            tags: [computing/software-package]
            extraction: *one-row-header
          software: !Table
            tags: [computing/software]
            extraction: !TableExtraction
            - !FoldRows
              - !EmptyColumn 2
  07-vehicles: !Group
    tables:
      critical-hit-effects: !Table
        tags: [vehicle-critical-hit, critical-hit/effect]
        extraction: !TableExtraction
          - !FoldRows
              - !StaticRowCounts [1, 3, 4, 5, 5, 6, 4, 4, 7, 7]
      critical-hits-location: !Table
        tags: [vehicle-critical-hit, critical-hit/location]
        extraction: *one-row-header
      speed-bands: !Table
        extraction: *one-row-header
      vehicle-equipment: !Table
        extraction: *one-row-header
      vehicle-weapons: !Table
        extraction: *one-row-header
    groups:
      vehicles: !Group
        tags: [vehicle]
        templates:
          - tables: &vehicle-tables
              equipment: !Table
                tags: [type/vehicle-equipment]
                extraction: !TableExtraction
                  - !FoldRows
                    - !AllRows {}
                  - !PrependRow
                    - EQUIPMENT
              spec: !Table
                tags: [type/vehicle-spec]
                extraction: !TableExtraction
                  - !Transpose {}
              armour: !Table
                tags: [type/vehicle-armour]
                extraction: !TableExtraction
                  - !WrapRowEveryN 2
                  - !Transpose {}
        groups:
          air-raft: !Group
            tags: [vehicle/air-raft]
            tables: *vehicle-tables
          atv: !Group
            tags: [vehicle/atv]
            tables: *vehicle-tables
          brutus-heavy-cargo-truck: !Group
            tags: [vehicle/brutus-heavy-cargo-truck]
            tables: *vehicle-tables
          cargo-lifter: !Group
            tags: [vehicle/cargo-lifter]
            tables: *vehicle-tables
          g-bike: !Group
            tags: [vehicle/g-bike]
            tables: *vehicle-tables
          g-carrier: !Group
            tags: [vehicle/g-carrier]
            tables: *vehicle-tables
          g-racer: !Group
            tags: [vehicle/g-racer]
            tables: *vehicle-tables
          gecko: !Group
            tags: [vehicle/gecko]
            tables: *vehicle-tables
          gunskiff: !Group
            tags: [vehicle/gunskiff]
            tables: *vehicle-tables
          personal-land-yacht: !Group
            tags: [vehicle/personal-land-yacht]
            tables: *vehicle-tables
  08-spacecraft-operations: !Group
    tags: [spacecraft-operation]
    tables:
      common-trader-distances: !Table
        tags: [spacecraft-trading/common-distances]
        extraction: *one-row-header
      critical-hit-repair: !Table
        tags: [spacecraft-operation/critical-hit-repair]
        extraction: *one-row-header
      encounter-dm: !Table
        tags: [encounter/space-travel/dm]
        extraction: !TableExtraction
        - !ExpandColumnOnRegex
          column: 0
          pattern: '([A-Z][^()]+)\(([^)]+)\): (.+)'
          on_match: ['\1', '\2', '\3']
          default: ['', '', '\g<0>']
        - !FoldRows
          - !EmptyColumn 0
        - !PrependRow
          - REGION
          - DM
          - DESCRIPTION
      poor-maintenance: !Table
        tags: [spacecraft-operation/poor-maintenance-effect]
        extraction: *one-row-header
      running-cost-summary: !Table
        tags: [spacecraft-operation/running-cost]
        extraction: *one-row-header
      salvage: !Table
        tags: [encounter/space-travel/salvage]
        extraction: *one-row-header
      ship-software: !Table
        tags: [spacecraft-software]
        extraction: *one-row-header
      space-encounters: !Table
        tags: [encounter/space-travel]
        extraction: *one-row-header
      transit-times: !Table
        tags: [space-travel/travel-time]
        extraction: !TableExtraction
        - !FoldRows
          - !EmptyColumn 1
      weapon-power: !Table
        tags: [spacecraft-power/require/weapon]
        extraction: *one-row-header
    groups:
      sensors: !Group
        tables:
          range-bands: !Table
            tags: [spacecraft-sensor/range-band]
            extraction: *one-row-header
          range-effect: !Table
            tags: [spacecraft-sensor/range-effect]
            extraction: *one-row-header
          detail: !Table
            tags: [spacecraft-sensor/detail]
            extraction: *one-row-header
  09-space-combat: !Group
    tags: [space-combat]
    tables:
      missile-flight: !Table
        extraction: *one-row-header
      range-bands: !Table
        extraction: *one-row-header
      ship-movement: !Table
        extraction: *one-row-header
      turrets: !Table
        extraction: *one-row-header
    groups:
      spacecraft-attack: !Group
        tags: [spacecraft-attack]
        tables:
          damage-scale: !Table
            tags: [spacecraft-attack/damage-scale]
            extraction: !TableExtraction
            - !FoldRows
              - !StaticRowCounts [2, 2, 2, 2]
          dogfighting-modifiers: !Table
            tags: [spacecraft-attack/dm, spacecraft-attack/dm/dogfight]
            extraction: !TableExtraction
            - !FoldRows
              - !StaticRowCounts [1, 1, 1, 2, 3, 2]
          spacecraft-attack-bonuses: !Table
            tags: [spacecraft-attack/dm, spacecraft-attack/dm/bonus]
            extraction: !TableExtraction
            - !PrependRow ['', "DM"]
            - !FoldRows
              - !StaticRowCounts [2, 1, 2, 2, 2]
          spacecraft-attack-penalties: !Table
            tags: [spacecraft-attack/dm, spacecraft-attack/dm/penalty]
            extraction: !TableExtraction
            - !PrependRow ['', "DM"]
            - !FoldRows
              - !EmptyColumn 1
          spacecraft-scale-weapons: !Table
            tags: [spacecraft-attack/weapon]
            extraction: *one-row-header
      boarding-actions: !Group
        tags: [boarding-actions]
        tables:
          boarding-actions-dm: !Table
            tags: [boarding-actions/dm]
            extraction: *one-row-header
          boarding-actions-outcome: !Table
            tags: [boarding-actions/outcome]
            extraction: *one-row-header
      critical-hit: !Group
        tags: [spacecraft-critical-hit]
        tables:
          critical-hit-effects: !Table
            tags: [critical-hit/effect]
            extraction: !TableExtraction
            - !FoldRows
              - !StaticRowCounts [1, 4, 4, 4, 5, 4, 3, 6, 4, 4, 4, 6]
          critical-hit-location: !Table
            tags: [critical-hit/location]
            extraction: *one-row-header
  13-trade: !Group
    tables:
      trade-goods: !Table
        tags: [type/trade-good]
        extraction: *one-row-header
  14-worldcreation: !Group
    tables:
      governments: !Table
        tags: [type/government-type]
        extraction: *two-row-header
      law-levels: !Table
        tags: [type/law-level]
        extraction: *two-row-header
      trade-codes: !Table
        tags: [type/trade-code]
        extraction: *one-row-header
